<!-- BEGIN_TF_DOCS -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | ~> 1.3 |
| <a name="requirement_azurerm"></a> [azurerm](#requirement\_azurerm) | ~> 3.0 |

## Providers

No providers.

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_aks"></a> [aks](#module\_aks) | Azure/aks/azurerm | 8.0.0 |
| <a name="module_avm-res-containerregistry-registry"></a> [avm-res-containerregistry-registry](#module\_avm-res-containerregistry-registry) | Azure/avm-res-containerregistry-registry/azurerm | 0.1.0 |
| <a name="module_rg"></a> [rg](#module\_rg) | claranet/rg/azurerm | 6.1.1 |
| <a name="module_vnet"></a> [vnet](#module\_vnet) | Azure/vnet/azurerm | 4.1.0 |

## Resources

No resources.

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_address_space"></a> [address\_space](#input\_address\_space) | The address space that is used by the virtual network. | `list(string)` | `[]` | no |
| <a name="input_admin_enabled"></a> [admin\_enabled](#input\_admin\_enabled) | Specifies whether the admin user is enabled. Defaults to `true`. | `bool` | `true` | no |
| <a name="input_aks_cluster_configs"></a> [aks\_cluster\_configs](#input\_aks\_cluster\_configs) | List of AKS cluster configurations | <pre>list(object({<br>    agents_availability_zones = list(string)<br>    agents_count              = number<br>    agents_max_count          = number<br>    agents_max_pods           = number<br>    agents_min_count          = number<br>    agents_size               = string<br>    agents_pool_max_surge     = string<br>    agents_pool_name          = string<br>    prefix                    = string<br>    network_plugin            = string<br>    brown_field_application_gateway_for_ingress = optional(object({<br>      id        = string<br>      subnet_id = string<br>    }))<br>    rbac_aad                           = bool<br>    rbac_aad_managed                   = bool<br>    role_based_access_control_enabled  = bool<br>    rbac_aad_azure_rbac_enabled        = bool<br>    rbac_aad_admin_group_object_ids    = list(string)<br>    rbac_aad_tenant_id                 = string<br>    cluster_name                       = string<br>    enable_auto_scaling                = bool<br>    key_vault_secrets_provider_enabled = bool<br>    oidc_issuer_enabled                = bool<br>    secret_rotation_enabled            = bool<br>    secret_rotation_interval           = string<br>    kubernetes_version                 = string<br>    node_pools = map(object({<br>      name                          = string<br>      node_count                    = optional(number)<br>      tags                          = optional(map(string))<br>      vm_size                       = string<br>      host_group_id                 = optional(string)<br>      capacity_reservation_group_id = optional(string)<br>      custom_ca_trust_enabled       = optional(bool)<br>      enable_auto_scaling           = optional(bool)<br>      enable_host_encryption        = optional(bool)<br>      enable_node_public_ip         = optional(bool)<br>      eviction_policy               = optional(string)<br>      gpu_instance                  = optional(string)<br>      kubelet_config = optional(object({<br>        cpu_manager_policy        = optional(string)<br>        cpu_cfs_quota_enabled     = optional(bool)<br>        cpu_cfs_quota_period      = optional(string)<br>        image_gc_high_threshold   = optional(number)<br>        image_gc_low_threshold    = optional(number)<br>        topology_manager_policy   = optional(string)<br>        allowed_unsafe_sysctls    = optional(set(string))<br>        container_log_max_size_mb = optional(number)<br>        container_log_max_files   = optional(number)<br>        pod_max_pid               = optional(number)<br>      }))<br>      linux_os_config = optional(object({<br>        sysctl_config = optional(object({<br>          fs_aio_max_nr                      = optional(number)<br>          fs_file_max                        = optional(number)<br>          fs_inotify_max_user_watches        = optional(number)<br>          fs_nr_open                         = optional(number)<br>          kernel_threads_max                 = optional(number)<br>          net_core_netdev_max_backlog        = optional(number)<br>          net_core_optmem_max                = optional(number)<br>          net_core_rmem_default              = optional(number)<br>          net_core_rmem_max                  = optional(number)<br>          net_core_somaxconn                 = optional(number)<br>          net_core_wmem_default              = optional(number)<br>          net_core_wmem_max                  = optional(number)<br>          net_ipv4_ip_local_port_range_min   = optional(number)<br>          net_ipv4_ip_local_port_range_max   = optional(number)<br>          net_ipv4_neigh_default_gc_thresh1  = optional(number)<br>          net_ipv4_neigh_default_gc_thresh2  = optional(number)<br>          net_ipv4_neigh_default_gc_thresh3  = optional(number)<br>          net_ipv4_tcp_fin_timeout           = optional(number)<br>          net_ipv4_tcp_keepalive_intvl       = optional(number)<br>          net_ipv4_tcp_keepalive_probes      = optional(number)<br>          net_ipv4_tcp_keepalive_time        = optional(number)<br>          net_ipv4_tcp_max_syn_backlog       = optional(number)<br>          net_ipv4_tcp_max_tw_buckets        = optional(number)<br>          net_ipv4_tcp_tw_reuse              = optional(bool)<br>          net_netfilter_nf_conntrack_buckets = optional(number)<br>          net_netfilter_nf_conntrack_max     = optional(number)<br>          vm_max_map_count                   = optional(number)<br>          vm_swappiness                      = optional(number)<br>          vm_vfs_cache_pressure              = optional(number)<br>        }))<br>        transparent_huge_page_enabled = optional(string)<br>        transparent_huge_page_defrag  = optional(string)<br>        swap_file_size_mb             = optional(number)<br>      }))<br>      fips_enabled       = optional(bool)<br>      kubelet_disk_type  = optional(string)<br>      max_count          = optional(number, 80)<br>      max_pods           = optional(number)<br>      message_of_the_day = optional(string)<br>      mode               = optional(string)<br>      min_count          = optional(number, 1)<br>      node_network_profile = optional(object({<br>        node_public_ip_tags = optional(map(string))<br>      }))<br>      node_labels                  = optional(map(string))<br>      node_public_ip_prefix_id     = optional(string)<br>      node_taints                  = optional(list(string))<br>      orchestrator_version         = optional(string)<br>      os_disk_size_gb              = optional(number)<br>      os_disk_type                 = optional(string, "Managed")<br>      os_sku                       = optional(string)<br>      os_type                      = optional(string, "Linux")<br>      pod_subnet_id                = optional(string)<br>      priority                     = optional(string, "Regular")<br>      proximity_placement_group_id = optional(string)<br>      spot_max_price               = optional(number)<br>      scale_down_mode              = optional(string, "Delete")<br>      snapshot_id                  = optional(string)<br>      ultra_ssd_enabled            = optional(bool)<br>      vnet_subnet_id               = optional(string)<br>      upgrade_settings = optional(object({<br>        max_surge = string<br>      }))<br>      windows_profile = optional(object({<br>        outbound_nat_enabled = optional(bool, true)<br>      }))<br>      workload_runtime      = optional(string)<br>      zones                 = optional(set(string))<br>      create_before_destroy = optional(bool, true)<br>    }))<br>    monitor_metrics = object({<br>      annotations_allowed = optional(string, null)<br>      labels_allowed      = optional(string, null)<br>    })<br>    sku_tier                             = string<br>    node_resource_group                  = string<br>    os_disk_size_gb                      = number<br>    pod_subnet_id                        = string<br>    local_account_disabled               = bool<br>    vnet_subnet_id                       = string<br>    log_analytics_workspace_enabled      = bool<br>    cluster_log_analytics_workspace_name = string<br>    msi_auth_for_monitoring_enabled      = bool<br>  }))</pre> | `[]` | no |
| <a name="input_anonymous_pull_enabled"></a> [anonymous\_pull\_enabled](#input\_anonymous\_pull\_enabled) | Specifies whether anonymous (unauthenticated) pull access to this Container Registry is allowed. Requries Standard or Premium SKU. | `bool` | `false` | no |
| <a name="input_bgp_community"></a> [bgp\_community](#input\_bgp\_community) | (Optional) The BGP community attribute in format `<as-number>:<community-value>`. | `string` | `null` | no |
| <a name="input_client_name"></a> [client\_name](#input\_client\_name) | Client name/account used in naming. | `string` | `null` | no |
| <a name="input_common_tags"></a> [common\_tags](#input\_common\_tags) | Common Tags for every resource being created | `map(string)` | `{}` | no |
| <a name="input_custom_rg_name"></a> [custom\_rg\_name](#input\_custom\_rg\_name) | custom name of resource group | `string` | `"motori-rg-staging"` | no |
| <a name="input_data_endpoint_enabled"></a> [data\_endpoint\_enabled](#input\_data\_endpoint\_enabled) | Specifies whether to enable dedicated data endpoints for this Container Registry. Requires Premium SKU. | `bool` | `false` | no |
| <a name="input_ddos_protection_plan"></a> [ddos\_protection\_plan](#input\_ddos\_protection\_plan) | The DDoS protection plan configuration with the following attributes:<br>- enable: A boolean flag to indicate whether the DDoS protection plan is enabled.<br>- id: The ID of the DDoS protection plan. | <pre>object({<br>    enable = bool<br>    id     = string<br>  })</pre> | `null` | no |
| <a name="input_default_tags_enabled"></a> [default\_tags\_enabled](#input\_default\_tags\_enabled) | Option to enable or disable default tags. | `bool` | `false` | no |
| <a name="input_diagnostic_settings"></a> [diagnostic\_settings](#input\_diagnostic\_settings) | A map of diagnostic settings to create on the Key Vault. The map key is deliberately arbitrary to avoid issues where map keys maybe unknown at plan time. - `name` - (Optional) The name of the diagnostic setting. One will be generated if not set, however this will not be unique if you want to create multiple diagnostic setting resources. - `log_categories` - (Optional) A set of log categories to send to the log analytics workspace. Defaults to `[]`. - `log_groups` - (Optional) A set of log groups to send to the log analytics workspace. Defaults to `[allLogs]`. - `metric_categories` - (Optional) A set of metric categories to send to the log analytics workspace. Defaults to [AllMetrics]. - `log_analytics_destination_type` - (Optional) The destination type for the diagnostic setting. Possible values are `Dedicated` and `AzureDiagnostics`. Defaults to `Dedicated`. - `workspace_resource_id` - (Optional) The resource ID of the log analytics workspace to send logs and metrics to. - `storage_account_resource_id` - (Optional) The resource ID of the storage account to send logs and metrics to. - `event_hub_authorization_rule_resource_id` - (Optional) The resource ID of the event hub authorization rule to send logs and metrics to. - `event_hub_name` - (Optional) The name of the event hub. If none is specified, the default event hub will be selected. - `marketplace_partner_resource_id` - (Optional) The full ARM resource ID of the Marketplace resource to which you would like to send Diagnostic LogsLogs. | <pre>map(object({<br>    name                                     = optional(string, null)<br>    log_categories                           = optional(set(string), [])<br>    log_groups                               = optional(set(string), ["allLogs"])<br>    metric_categories                        = optional(set(string), ["AllMetrics"])<br>    log_analytics_destination_type           = optional(string, "Dedicated")<br>    workspace_resource_id                    = optional(string, null)<br>    storage_account_resource_id              = optional(string, null)<br>    event_hub_authorization_rule_resource_id = optional(string, null)<br>    event_hub_name                           = optional(string, null)<br>    marketplace_partner_resource_id          = optional(string, null)<br>  }))</pre> | `{}` | no |
| <a name="input_dns_servers"></a> [dns\_servers](#input\_dns\_servers) | The DNS servers to be used with vNet. | `list(string)` | `[]` | no |
| <a name="input_enable_telemetry"></a> [enable\_telemetry](#input\_enable\_telemetry) | This variable controls whether or not telemetry is enabled for the module. For more information see https://aka.ms/avm/telemetryinfo. If it is set to false, then no telemetry will be collected. | `bool` | `false` | no |
| <a name="input_environment"></a> [environment](#input\_environment) | Project environment. | `string` | `null` | no |
| <a name="input_export_policy_enabled"></a> [export\_policy\_enabled](#input\_export\_policy\_enabled) | Specifies whether export policy is enabled. Defaults to true. In order to set it to false, make sure the public\_network\_access\_enabled is also set to false. | `bool` | `true` | no |
| <a name="input_georeplications"></a> [georeplications](#input\_georeplications) | A list of geo-replication configurations for the Container Registry. - `location` - (Required) The geographic location where the Container Registry should be geo-replicated. - `regional_endpoint_enabled` - (Optional) Enables or disables regional endpoint. Defaults to `true`. - `zone_redundancy_enabled` - (Optional) Enables or disables zone redundancy. Defaults to `true`. - `tags` - (Optional) A map of additional tags for the geo-replication configuration. Defaults to `null`. | <pre>list(object({<br>    location                  = string<br>    regional_endpoint_enabled = optional(bool, true)<br>    zone_redundancy_enabled   = optional(bool, true)<br>    tags                      = optional(map(any), null)<br>  }))</pre> | `[]` | no |
| <a name="input_location"></a> [location](#input\_location) | location of resource group | `string` | `"centralindia"` | no |
| <a name="input_lock"></a> [lock](#input\_lock) | The lock level to apply. Default is `None`. Possible values are `None`, `CanNotDelete`, and `ReadOnly`. | <pre>object({<br>    name = optional(string, null)<br>    kind = optional(string, "None")<br>  })</pre> | `{}` | no |
| <a name="input_lock_level"></a> [lock\_level](#input\_lock\_level) | Specifies the Level to be used for this RG Lock. Possible values are Empty (no lock), `CanNotDelete` and `ReadOnly` | `string` | `""` | no |
| <a name="input_name"></a> [name](#input\_name) | The name of the Container Registry. | `string` | `"acrmtrmgmt"` | no |
| <a name="input_network_rule_bypass_option"></a> [network\_rule\_bypass\_option](#input\_network\_rule\_bypass\_option) | Specifies whether to allow trusted Azure services access to a network restricted Container Registry. Possible values are `None` and `AzureServices`. Defaults to `None` | `string` | `"AzureServices"` | no |
| <a name="input_network_rule_set"></a> [network\_rule\_set](#input\_network\_rule\_set) | The network rule set configuration for the Container Registry. Requires Premium SKU. - `default_action` - (Optional) The default action when no rule matches. Possible values are `Allow` and `Deny`. Defaults to `Deny`. - `ip_rules` - (Optional) A list of IP rules in CIDR format. Defaults to `[]`. - `action` - Only Allow is permitted - `ip_range` - The CIDR block from which requests will match the rule. - `virtual_network` - (Optional) When using with Service Endpoints, a list of subnet IDs to associate with the Container Registry. Defaults to `[]`. - `action` - Only Allow is permitted - `subnet_id` - The subnet id from which requests will match the rule. | <pre>object({<br>    default_action = optional(string, "Deny")<br>    ip_rule = optional(list(object({<br>      action = optional(string, "Allow")<br>    ip_range = string })), [])<br>    virtual_network = optional(list(object({<br>      action    = optional(string, "Allow")<br>      subnet_id = string<br>      })),<br>    [])<br>  })</pre> | `null` | no |
| <a name="input_nsg_ids"></a> [nsg\_ids](#input\_nsg\_ids) | A map of subnet name to Network Security Group IDs | `map(string)` | `{}` | no |
| <a name="input_private_endpoints"></a> [private\_endpoints](#input\_private\_endpoints) | A map of private endpoints to create on this resource. | <pre>map(object({<br>    name = optional(string)<br>    role_assignments = optional(map(object({<br>      role_definition_id_or_name             = string<br>      principal_id                           = string<br>      description                            = optional(string)<br>      skip_service_principal_aad_check       = optional(bool, false)<br>      condition                              = optional(string)<br>      condition_version                      = optional(string)<br>      delegated_managed_identity_resource_id = optional(string)<br>    })))<br>    lock = optional(object({<br>      name = optional(string)<br>      kind = optional(string, "None")<br>    }))<br>    tags                                    = optional(map(any))<br>    subnet_resource_id                      = string<br>    private_dns_zone_group_name             = optional(string, "default")<br>    private_dns_zone_resource_ids           = optional(set(string), [])<br>    application_security_group_resource_ids = optional(map(string), {})<br>    private_service_connection_name         = optional(string)<br>    network_interface_name                  = optional(string)<br>    location                                = optional(string)<br>    resource_group_name                     = optional(string)<br>    ip_configurations = optional(map(object({<br>      name               = string<br>      private_ip_address = string<br>      subresource_name   = optional(string)<br>      member_name        = optional(string)<br>    })))<br>  }))</pre> | `{}` | no |
| <a name="input_public_network_access_enabled"></a> [public\_network\_access\_enabled](#input\_public\_network\_access\_enabled) | is public access enabled ? | `bool` | `false` | no |
| <a name="input_quarantine_policy_enabled"></a> [quarantine\_policy\_enabled](#input\_quarantine\_policy\_enabled) | Specifies whether the quarantine policy is enabled. | `bool` | `false` | no |
| <a name="input_route_tables_ids"></a> [route\_tables\_ids](#input\_route\_tables\_ids) | A map of subnet name to Route table ids | `map(string)` | `{}` | no |
| <a name="input_sku"></a> [sku](#input\_sku) | The SKU name of the Container Registry. Default is `Premium`. `Possible values are `Basic`, `Standard` and `Premium`.` | `string` | `"Premium"` | no |
| <a name="input_stack"></a> [stack](#input\_stack) | Project stack name. | `string` | `null` | no |
| <a name="input_subnet_delegation"></a> [subnet\_delegation](#input\_subnet\_delegation) | A map of subnet name to delegation block on the subnet | `map(map(any))` | `{}` | no |
| <a name="input_subnet_names"></a> [subnet\_names](#input\_subnet\_names) | A list of public subnets inside the vNet. | `list(string)` | <pre>[<br>  "subnet1"<br>]</pre> | no |
| <a name="input_subnet_prefixes"></a> [subnet\_prefixes](#input\_subnet\_prefixes) | The address prefix to use for the subnet. | `list(string)` | <pre>[<br>  "10.0.1.0/24"<br>]</pre> | no |
| <a name="input_subnet_service_endpoints"></a> [subnet\_service\_endpoints](#input\_subnet\_service\_endpoints) | A map of subnet name to service endpoints to add to the subnet. | `map(any)` | `{}` | no |
| <a name="input_tags"></a> [tags](#input\_tags) | The required tags for storage resource | `map(string)` | `{}` | no |
| <a name="input_use_for_each"></a> [use\_for\_each](#input\_use\_for\_each) | Use `for_each` instead of `count` to create multiple resource instances | `bool` | `false` | no |
| <a name="input_vnet_name"></a> [vnet\_name](#input\_vnet\_name) | Name of the vnet to create. | `string` | `"vnet1"` | no |
| <a name="input_zone_redundancy_enabled"></a> [zone\_redundancy\_enabled](#input\_zone\_redundancy\_enabled) | Specifies whether zone redundancy is enabled. Modifying this forces a new resource to be created. | `bool` | `false` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_container_registry_name"></a> [container\_registry\_name](#output\_container\_registry\_name) | name of the container registry |
| <a name="output_resource_group_id"></a> [resource\_group\_id](#output\_resource\_group\_id) | Resource group generated id |
| <a name="output_resource_group_location"></a> [resource\_group\_location](#output\_resource\_group\_location) | Resource group generated id |
| <a name="output_resource_group_name"></a> [resource\_group\_name](#output\_resource\_group\_name) | Resource group generated id |
| <a name="output_resource_id"></a> [resource\_id](#output\_resource\_id) | acr resource id |
| <a name="output_vnet_location"></a> [vnet\_location](#output\_vnet\_location) | location of virtual network. |
| <a name="output_vnet_name"></a> [vnet\_name](#output\_vnet\_name) | name of virtual network. |
| <a name="output_vnet_subnets"></a> [vnet\_subnets](#output\_vnet\_subnets) | vnet subnet id |
<!-- END_TF_DOCS -->